{"ast":null,"code":"import Button from\"../../components/Buttons\";import Input from\"../../components/input\";import React,{useState}from'react';import{useNavigate}from\"react-router-dom\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const Form=_ref=>{let{isSignInPage=true}=_ref;const navigate=useNavigate();const[data,setData]=useState({...(!isSignInPage&&{fullName:''}),email:'',password:''});const handleSubmit=async e=>{console.log(\"data:>>\",data);e.preventDefault();const res=await fetch(`http://localhost:8000/api/${isSignInPage?'login':'register'}`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});if(res.status===400){alert('Invalid Credentials');}else{const resData=await res.json();if(resData.token){localStorage.setItem('user:token',resData.token);localStorage.setItem('user:detail',JSON.stringify(resData.user));navigate('/');}}};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-light h-screen flex items-centre justify-centre \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white w-[600px] h-[550px] shadow-lg rounded-lg flex flex-col \\r justify-center \\r items-center mx-auto my-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-3xl font-bold\",children:[\"Welcome\",isSignInPage&&\" back\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-light mb-14\",children:isSignInPage?\"Sign in to explore\":\"Sign up now to get started\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"flex flex-col items-centre w-[65%]\",onSubmit:e=>handleSubmit(e),children:[!isSignInPage&&/*#__PURE__*/_jsx(Input,{label:\"Fullname\",name:\"name\",placeholder:\"Enter your Full name\",className:\"mb-6 w-[100%]\",value:data.fullName,onChange:e=>setData({...data,fullName:e.target.value})}),/*#__PURE__*/_jsx(Input,{label:\"Email address\",name:\"email\",type:\"email\",placeholder:\"Enter your email\",className:\"mb-6 w-[100%]\",value:data.email,onChange:e=>setData({...data,email:e.target.value})}),/*#__PURE__*/_jsx(Input,{label:\"Password\",type:\"password\",name:\"password\",placeholder:\"Enter your Password\",className:\"mb-14 w-[100%]\",value:data.password,onChange:e=>setData({...data,password:e.target.value})}),/*#__PURE__*/_jsx(Button,{label:isSignInPage?\"Sign in\":\"Sign up\",type:\"submit\",className:\"w-full mb-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[isSignInPage?\"Didn't have an account?\":\"Already have an account?\",/*#__PURE__*/_jsx(\"span\",{className:\"text-primary cursor-pointer underline\",onClick:()=>navigate(`/users/${isSignInPage?\"sign-up\":\"sign-in\"}`),children:isSignInPage?\"Sign-up\":\"Sign-in\"})]})]})});};export default Form;","map":{"version":3,"names":["Button","Input","React","useState","useNavigate","jsxs","_jsxs","jsx","_jsx","Form","_ref","isSignInPage","navigate","data","setData","fullName","email","password","handleSubmit","e","console","log","preventDefault","res","fetch","method","headers","body","JSON","stringify","status","alert","resData","json","token","localStorage","setItem","user","className","children","onSubmit","label","name","placeholder","value","onChange","target","type","onClick"],"sources":["C:/Users/itzsa/chatapp/client/src/modules/form/index.js"],"sourcesContent":["import Button from \"../../components/Buttons\"\r\nimport Input from \"../../components/input\"\r\nimport React, { useState } from 'react'\r\nimport { useNavigate } from \"react-router-dom\"\r\n\r\nconst Form = ({ isSignInPage =true, }) => {\r\n  const navigate = useNavigate();\r\n\r\n  const[data,setData]=useState({\r\n    ...(!isSignInPage &&{\r\n      fullName:''\r\n    }),\r\n    email:'',\r\n    password:''\r\n  })\r\n  \r\n\r\n \r\n  const handleSubmit=async(e)=>{\r\n    console.log(\"data:>>\", data);\r\n    e.preventDefault();\r\n      const res = await fetch(`http://localhost:8000/api/${isSignInPage? 'login':'register'}`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(data),\r\n      });\r\n      if(res.status===400){\r\n        alert('Invalid Credentials')\r\n      }else{\r\n        const resData=await res.json()\r\n       if(resData.token){\r\n        localStorage.setItem('user:token',resData.token)\r\n        localStorage.setItem('user:detail',JSON.stringify(resData.user))\r\n        navigate('/')\r\n       }\r\n       }\r\n       }\r\n \r\n\r\n  return (\r\n    <div className=\"bg-light h-screen flex items-centre justify-centre \">\r\n    <div className=\"bg-white w-[600px] h-[550px] shadow-lg rounded-lg flex flex-col \r\n    justify-center \r\n    items-center mx-auto my-auto\">\r\n    <div className=\"text-3xl font-bold\">Welcome\r\n       {isSignInPage && \" back\"}</div>\r\n    <div className=\"text-xl font-light mb-14\">\r\n      {isSignInPage?\"Sign in to explore\":\"Sign up now to get started\"}</div>\r\n      <form className='flex flex-col items-centre w-[65%]'onSubmit={(e) => handleSubmit(e)}>\r\n   {!isSignInPage && <Input label=\"Fullname\" name=\"name\" placeholder=\"Enter your Full name\" className=\"mb-6 w-[100%]\"\r\n   value={data.fullName} onChange={(e)=>setData({...data,fullName:e.target.value})}/>}\r\n    <Input label=\"Email address\" name=\"email\" type=\"email\" placeholder=\"Enter your email\" className=\"mb-6 w-[100%]\"\r\n    value={data.email} onChange={(e)=>setData({...data,email:e.target.value})}/>\r\n    <Input label=\"Password\" type=\"password\" name=\"password\" placeholder=\"Enter your Password\" className=\"mb-14 w-[100%]\"\r\n    value={data.password} onChange={(e)=>setData({...data,password:e.target.value})}/>\r\n    <Button label = {isSignInPage ? \"Sign in\":\"Sign up\"} type=\"submit\"className=\"w-full mb-2\"/> \r\n    </form>\r\n    <div>{isSignInPage ? \"Didn't have an account?\":\"Already have an account?\"}\r\n      <span className=\"text-primary cursor-pointer underline\" onClick={()=> navigate(`/users/${isSignInPage ? \"sign-up\":\"sign-in\"}`)}>{isSignInPage?\"Sign-up\":\"Sign-in\"}</span>\r\n      </div>\r\n    </div>\r\n    </div>\r\n  )\r\n\r\n}\r\nexport default Form;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}