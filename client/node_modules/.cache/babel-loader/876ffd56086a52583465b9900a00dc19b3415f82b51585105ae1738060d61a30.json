{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\itzsa\\\\chatapp\\\\client\\\\src\\\\modules\\\\form\\\\index.js\",\n  _s = $RefreshSig$();\nimport Button from \"../../components/Buttons\";\nimport Input from \"../../components/input\";\nimport React, { useState } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Form = ({\n  isSignInPage = true\n}) => {\n  _s();\n  const [data, setData] = useState({\n    ...(!isSignInPage && {\n      fullName: ''\n    }),\n    email: '',\n    password: ''\n  });\n  const navigate = useNavigate();\n  const handleSubmit = async e => {\n    console.log(\"data:>>\", data);\n    e.preventDefault();\n    try {\n      const res = await fetch(`http://localhost:8000/api/${isSignInPage ? 'login' : 'register'}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({/* your login data */})\n      });\n      if (res.status === 400) {\n        alert('Invalid Credentials');\n      } else if (res.ok) {\n        // Check if response is successful (status code 200-299)\n        const resData = await res.json();\n        if (resData.token) {\n          localStorage.setItem('user:token', resData.token);\n          localStorage.setItem('user:detail', JSON.stringify(resData.user));\n          navigate('/');\n        } else {\n          alert('Login failed: Missing token in response.');\n        }\n      } else {\n        alert('An unexpected error occurred. Please try again.');\n      }\n    } catch (error) {\n      console.error('Error during login:', error);\n      alert('A network error occurred. Please check your connection.');\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-light h-screen flex items-centre justify-centre \",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white w-[600px] h-[550px] shadow-lg rounded-lg flex flex-col \\r justify-center \\r items-center mx-auto my-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-3xl font-bold\",\n          children: [\"Welcome\", isSignInPage && \" back\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xl font-light mb-14\",\n          children: isSignInPage ? \"Sign in to explore\" : \"Sign up now to get started\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"flex flex-col items-centre w-[65%]\",\n          onSubmit: e => handleSubmit(e),\n          children: [!isSignInPage && /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Fullname\",\n            name: \"name\",\n            placeholder: \"Enter your Full name\",\n            className: \"mb-6 w-[100%]\",\n            value: data.fullName,\n            onChange: e => setData({\n              ...data,\n              fullName: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Email address\",\n            name: \"email\",\n            type: \"email\",\n            placeholder: \"Enter your email\",\n            className: \"mb-6 w-[100%]\",\n            value: data.email,\n            onChange: e => setData({\n              ...data,\n              email: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"Password\",\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Enter your Password\",\n            className: \"mb-14 w-[100%]\",\n            value: data.password,\n            onChange: e => setData({\n              ...data,\n              password: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            label: isSignInPage ? \"Sign in\" : \"Sign up\",\n            type: \"submit\",\n            className: \"w-full mb-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [isSignInPage ? \"Didn't have an account?\" : \"Already have an account?\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-primary cursor-pointer underline\",\n            onClick: () => navigate(`/users/${isSignInPage ? \"sign-up\" : \"sign-in\"}`),\n            children: isSignInPage ? \"Sign-up\" : \"Sign-in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }, this);\n  };\n};\n_s(Form, \"dl4cUJxuCpRWMG1brIaMo/mLHC0=\", false, function () {\n  return [useNavigate];\n});\n_c = Form;\nexport default Form;\nvar _c;\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["Button","Input","React","useState","useNavigate","jsxDEV","_jsxDEV","Form","isSignInPage","_s","data","setData","fullName","email","password","navigate","handleSubmit","e","console","log","preventDefault","res","fetch","method","headers","body","JSON","stringify","status","alert","ok","resData","json","token","localStorage","setItem","user","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","label","name","placeholder","value","onChange","target","type","onClick","_c","$RefreshReg$"],"sources":["C:/Users/itzsa/chatapp/client/src/modules/form/index.js"],"sourcesContent":["import Button from \"../../components/Buttons\"\r\nimport Input from \"../../components/input\"\r\nimport React, { useState } from 'react'\r\nimport { useNavigate } from \"react-router-dom\"\r\n\r\nconst Form = ({\r\n  isSignInPage = true,\r\n}) => {\r\n\r\n\r\n  const[data,setData]=useState({\r\n    ...(!isSignInPage &&{\r\n      fullName:''\r\n    }),\r\n    email:'',\r\n    password:''\r\n  })\r\n  \r\n\r\n  const navigate=useNavigate()\r\n\r\n  const handleSubmit=async(e)=>{\r\n    console.log(\"data:>>\", data);\r\n    e.preventDefault();\r\n    try {\r\n      const res = await fetch(`http://localhost:8000/api/${isSignInPage? 'login':'register'}`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ /* your login data */ }),\r\n      });\r\n    \r\n      if (res.status === 400) {\r\n        alert('Invalid Credentials');\r\n      } else if (res.ok) {  // Check if response is successful (status code 200-299)\r\n        const resData = await res.json();\r\n    \r\n        if (resData.token) {\r\n          localStorage.setItem('user:token', resData.token);\r\n          localStorage.setItem('user:detail', JSON.stringify(resData.user));\r\n          navigate('/');\r\n        } else {\r\n          alert('Login failed: Missing token in response.');\r\n        }\r\n      } else {\r\n        alert('An unexpected error occurred. Please try again.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error during login:', error);\r\n      alert('A network error occurred. Please check your connection.');\r\n    }\r\n    \r\n\r\n \r\n\r\n  return (\r\n    <div className=\"bg-light h-screen flex items-centre justify-centre \">\r\n    <div className=\"bg-white w-[600px] h-[550px] shadow-lg rounded-lg flex flex-col \r\n    justify-center \r\n    items-center mx-auto my-auto\">\r\n    <div className=\"text-3xl font-bold\">Welcome\r\n       {isSignInPage && \" back\"}</div>\r\n    <div className=\"text-xl font-light mb-14\">\r\n      {isSignInPage?\"Sign in to explore\":\"Sign up now to get started\"}</div>\r\n      <form className='flex flex-col items-centre w-[65%]'onSubmit={(e) => handleSubmit(e)}>\r\n   {!isSignInPage && <Input label=\"Fullname\" name=\"name\" placeholder=\"Enter your Full name\" className=\"mb-6 w-[100%]\"\r\n   value={data.fullName} onChange={(e)=>setData({...data,fullName:e.target.value})}/>}\r\n    <Input label=\"Email address\" name=\"email\" type=\"email\" placeholder=\"Enter your email\" className=\"mb-6 w-[100%]\"\r\n    value={data.email} onChange={(e)=>setData({...data,email:e.target.value})}/>\r\n    <Input label=\"Password\" type=\"password\" name=\"password\" placeholder=\"Enter your Password\" className=\"mb-14 w-[100%]\"\r\n    value={data.password} onChange={(e)=>setData({...data,password:e.target.value})}/>\r\n    <Button label = {isSignInPage ? \"Sign in\":\"Sign up\"} type=\"submit\"className=\"w-full mb-2\"/> \r\n    </form>\r\n    <div>{isSignInPage ? \"Didn't have an account?\":\"Already have an account?\"}\r\n      <span className=\"text-primary cursor-pointer underline\" onClick={()=> navigate(`/users/${isSignInPage ? \"sign-up\":\"sign-in\"}`)}>{isSignInPage?\"Sign-up\":\"Sign-in\"}</span>\r\n      </div>\r\n    </div>\r\n    </div>\r\n  )\r\n}\r\n}\r\nexport default Form;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}